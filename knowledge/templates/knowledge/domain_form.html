{% extends "knowledge/base.html" %}

{% block title %}{% if object %}Edit{% else %}New{% endif %} Domain - {{ product.name }}{% endblock %}

{% block breadcrumb %}
<div class="breadcrumb">
    <a href="{% url 'core:home' %}">Products</a>
    <span>›</span>
    <a href="{% url 'knowledge:domain_list' product_id=product.pk %}">{{ product.name }}</a>
    <span>›</span>
    <strong>{% if object %}Edit {{ object.name }}{% else %}New Domain{% endif %}</strong>
</div>
{% endblock %}

{% block content %}
<h1>{% if object %}Edit Domain{% else %}New Domain{% endif %}</h1>

<form method="post">
    {% csrf_token %}

    {% if form.errors %}
    <ul class="errorlist">
        {% for field in form %}
            {% for error in field.errors %}
            <li>{{ field.label }}: {{ error }}</li>
            {% endfor %}
        {% endfor %}
        {% for error in form.non_field_errors %}
        <li>{{ error }}</li>
        {% endfor %}
    </ul>
    {% endif %}

    <label for="id_name">Name</label>
    <input type="text" name="name" id="id_name" value="{{ form.name.value|default:'' }}" required>

    <label for="id_description">Description</label>
    <textarea name="description" id="id_description">{{ form.description.value|default:'' }}</textarea>

    <div class="form-actions">
        <button type="submit" class="btn">{% if object %}Update{% else %}Create{% endif %} Domain</button>
        <a href="{% url 'knowledge:domain_list' product_id=product.pk %}" class="btn btn-secondary">Cancel</a>
    </div>
</form>
{% endblock %}
